<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Learn Spanish</title>
        <style>
            body {
                border: 0;
                margin: 0;
                background-color: #6EB6D5;
            }
        </style>
    </h:head>

    <h:body>

        <h:form id="form">

            <p:dataTable id="studentsDataTable"
                             value="#{studentsController.students}"
                             var="student"
                             rowKey="#{student.ID}"
                             selection="#{studentsController.studentSelected}"
                             selectionMode="single">

                <!--Header-->
                <f:facet name="header">
                    Spanish Academy : Students' List
                    <p:button value="Add Student" outcome="new_student" />
                </f:facet>

                <p:column headerText="ID">
                    <h:outputText value="#{student.ID}" />
                </p:column>
                <p:column headerText="Username">
                    <h:outputText value="#{student.username}" />
                </p:column>
                <p:column headerText="Firstname">
                    <h:outputText value="#{student.firstname}" />
                </p:column>
                <p:column headerText="Lastname">
                    <h:outputText value="#{student.lastname}" />
                </p:column>
                <p:column headerText="Edit" style="width:50px">

                </p:column>

                <!--Footer-->
                <f:facet name="footer">
                    <p:spacer height="5px;"/>
                </f:facet>

            </p:dataTable>
            <p:commandButton value="delete"  actionListener="#{studentsController.deleteStudent}"  update=":#{p:component('studentsDataTable')}"/>
            <p:commandButton value="update"  action="#{studentsController.editStudentRecord}"/>

            <p:dialog header="Delete Confirmation" widgetVar="dlg3" showEffect="explode" hideEffect="bounce" height="100">
                <h:outputText value="Good Bye! We hope to see you soon"/>
            </p:dialog>
        </h:form>

    </h:body>
    <script >
        document.getElementById('delete').addEventListener("click", function dlg3() {
            PF('dlg3').show();
        });
    </script>
</html>